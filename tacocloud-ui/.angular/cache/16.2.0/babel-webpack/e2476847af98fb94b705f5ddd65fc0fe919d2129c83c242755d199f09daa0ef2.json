{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../api/user-service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../cloud-title/cloudtitle.component\";\nimport * as i6 from \"../group-box/groupbox.component\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  var _class;\n  class LoginComponent {\n    constructor(httpClient, router, userService) {\n      this.httpClient = httpClient;\n      this.router = router;\n      this.userService = userService;\n      this.singInModel = {\n        username: '',\n        password: ''\n      };\n      this.regitrationModel = {\n        username: '',\n        password: '',\n        verifyPassword: '',\n        fullName: '',\n        street: '',\n        city: '',\n        state: '',\n        zip: '',\n        phone: ''\n      };\n    }\n    ngOnInit() {}\n    onRegisterSubmit() {\n      this.httpClient.post('http://localhost:8080/register', this.regitrationModel, {\n        headers: new HttpHeaders().set('Content-type', 'application/json').set('Accept', 'application/json'),\n        observe: 'response'\n      }).subscribe(response => {\n        if (response.status === 201) {\n          // 페이지를 다시 로드하는 코드\n          alert('등록이 완료되었습니다.');\n          this.router.navigate(['/ui/login']);\n        } else {\n          // 다른 상황에 대한 처리\n        }\n      });\n    }\n    onSignIn() {\n      this.httpClient.post('http://localhost:8080/customLogin', this.singInModel, {\n        headers: new HttpHeaders().set('Content-type', 'application/json').set('Accept', 'application/json'),\n        observe: 'response'\n      }).subscribe(response => {\n        if (response.status === 200) {\n          alert(\"로그인 성공\");\n          const user = response.body; // User 객체\n          console.log(user);\n          sessionStorage.setItem('user', JSON.stringify(user));\n          this.userService.updateUser(user);\n          this.router.navigateByUrl('/').then(() => {\n            window.location.reload();\n          });\n        } else {\n          console.log(response); // 응답 객체 로그로 출력\n          alert(\"로그인 실패\");\n        }\n      });\n    }\n  }\n  _class = LoginComponent;\n  _class.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"login-tacocloud\"]],\n    decls: 79,\n    vars: 11,\n    consts: [[2, \"font-weight\", \"bold\", \"color\", \"red\"], [\"title\", \"Sign in\"], [3, \"ngSubmit\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"username\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Sing in\"], [\"title\", \"Register\"], [\"type\", \"password\", \"name\", \"verifyPassword\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"fullName\"], [\"type\", \"text\", \"name\", \"fullName\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"street\"], [\"type\", \"text\", \"name\", \"street\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"city\"], [\"type\", \"text\", \"name\", \"city\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"state\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"zipCode\"], [\"type\", \"text\", \"size\", \"2\", \"name\", \"zip\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phoneNumber\"], [\"type\", \"text\", \"name\", \"phoneNumber\", 1, \"formField\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Register\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"cloud-title\");\n        i0.ɵɵtext(1, \"Sign in to Taco Cloud\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"p\", 0);\n        i0.ɵɵtext(3, \" The sign in and security features of this version of Taco Cloud are not yet implemented. The forms presented below do absolutely nothing...yet. Stay tuned.\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"group-box\", 1)(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onSignIn();\n        });\n        i0.ɵɵelementStart(6, \"label\", 3)(7, \"b\");\n        i0.ɵɵtext(8, \"Username:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.singInModel.username = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"label\", 5)(13, \"b\");\n        i0.ɵɵtext(14, \"Password:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.singInModel.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"br\")(18, \"br\")(19, \"input\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"group-box\", 8)(21, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_21_listener() {\n          return ctx.onRegisterSubmit();\n        });\n        i0.ɵɵelementStart(22, \"label\", 3)(23, \"b\");\n        i0.ɵɵtext(24, \"Username:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementStart(26, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.regitrationModel.username = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"br\");\n        i0.ɵɵelementStart(28, \"label\", 5)(29, \"b\");\n        i0.ɵɵtext(30, \"Password:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementStart(32, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.regitrationModel.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"br\")(34, \"br\");\n        i0.ɵɵelementStart(35, \"label\", 5)(36, \"b\");\n        i0.ɵɵtext(37, \"(verify password)\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementStart(39, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_39_listener($event) {\n          return ctx.regitrationModel.verifyPassword = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(40, \"br\")(41, \"br\");\n        i0.ɵɵelementStart(42, \"label\", 10)(43, \"b\");\n        i0.ɵɵtext(44, \"Full name:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵelementStart(46, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_46_listener($event) {\n          return ctx.regitrationModel.fullName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"br\")(48, \"br\");\n        i0.ɵɵelementStart(49, \"label\", 12)(50, \"b\");\n        i0.ɵɵtext(51, \"Street:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(52, \"br\");\n        i0.ɵɵelementStart(53, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_53_listener($event) {\n          return ctx.regitrationModel.street = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"br\")(55, \"br\");\n        i0.ɵɵelementStart(56, \"label\", 14)(57, \"b\");\n        i0.ɵɵtext(58, \"City / State:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(59, \"br\");\n        i0.ɵɵelementStart(60, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_60_listener($event) {\n          return ctx.regitrationModel.city = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_61_listener($event) {\n          return ctx.regitrationModel.state = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(62, \"br\")(63, \"br\");\n        i0.ɵɵelementStart(64, \"label\", 17)(65, \"b\");\n        i0.ɵɵtext(66, \"Zip code:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(67, \"br\");\n        i0.ɵɵelementStart(68, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_68_listener($event) {\n          return ctx.regitrationModel.zip = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(69, \"br\")(70, \"br\");\n        i0.ɵɵelementStart(71, \"label\", 19)(72, \"b\");\n        i0.ɵɵtext(73, \"Phone number:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(74, \"br\");\n        i0.ɵɵelementStart(75, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_75_listener($event) {\n          return ctx.regitrationModel.phone = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(76, \"br\")(77, \"br\")(78, \"input\", 21);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.singInModel.username);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.singInModel.password);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.username);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.password);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.verifyPassword);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.fullName);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.street);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.city);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.state);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.zip);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.regitrationModel.phone);\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.CloudTitleComponent, i6.GroupBoxComponent],\n    styles: [\"input.formField[_ngcontent-%COMP%]{font-size:16pt;background:none;border:none;border-bottom:1px solid #003366}group-box[_ngcontent-%COMP%]{width:1000px}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}