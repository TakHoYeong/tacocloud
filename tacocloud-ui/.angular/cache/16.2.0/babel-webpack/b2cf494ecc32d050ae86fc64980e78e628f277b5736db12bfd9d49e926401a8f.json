{"ast":null,"code":"var _class;\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class UserService {\n  constructor() {\n    this.userSubject = new Subject();\n    this.userObservable$ = this.userSubject.asObservable();\n  }\n  updateUserFromSession() {\n    const sessionUser = sessionStorage.getItem('user');\n    if (sessionUser) {\n      const sessionUserJSON = JSON.parse(sessionUser);\n      this.userSubject.next(sessionUserJSON);\n    }\n  }\n  updateUser(user) {\n    this.userSubject.next(user);\n  }\n  clearUser() {\n    this.userSubject.next(null);\n    sessionStorage.removeItem('user');\n  }\n}\n_class = UserService;\n_class.ɵfac = function UserService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Subject","UserService","constructor","userSubject","userObservable$","asObservable","updateUserFromSession","sessionUser","sessionStorage","getItem","sessionUserJSON","JSON","parse","next","updateUser","user","clearUser","removeItem","factory","ɵfac","providedIn"],"sources":["D:\\Class\\workspace\\tacocloud2\\tacocloud-ui\\src\\app\\api\\user-service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private userSubject = new Subject<any>();\r\n  userObservable$ = this.userSubject.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  updateUserFromSession() {\r\n    const sessionUser = sessionStorage.getItem('user');\r\n    if (sessionUser) {\r\n      const sessionUserJSON = JSON.parse(sessionUser);\r\n      this.userSubject.next(sessionUserJSON);\r\n    }\r\n  }\r\n  \r\n  updateUser(user: any) {\r\n    this.userSubject.next(user);\r\n  }\r\n\r\n  clearUser() {\r\n    this.userSubject.next(null);\r\n    sessionStorage.removeItem('user');\r\n  }\r\n}\r\n\r\n\r\n"],"mappings":";AACA,SAASA,OAAO,QAAQ,MAAM;;AAK9B,OAAM,MAAOC,WAAW;EAItBC,YAAA;IAHQ,KAAAC,WAAW,GAAG,IAAIH,OAAO,EAAO;IACxC,KAAAI,eAAe,GAAG,IAAI,CAACD,WAAW,CAACE,YAAY,EAAE;EAEjC;EAEhBC,qBAAqBA,CAAA;IACnB,MAAMC,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IAClD,IAAIF,WAAW,EAAE;MACf,MAAMG,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC;MAC/C,IAAI,CAACJ,WAAW,CAACU,IAAI,CAACH,eAAe,CAAC;;EAE1C;EAEAI,UAAUA,CAACC,IAAS;IAClB,IAAI,CAACZ,WAAW,CAACU,IAAI,CAACE,IAAI,CAAC;EAC7B;EAEAC,SAASA,CAAA;IACP,IAAI,CAACb,WAAW,CAACU,IAAI,CAAC,IAAI,CAAC;IAC3BL,cAAc,CAACS,UAAU,CAAC,MAAM,CAAC;EACnC;;SArBWhB,WAAW;;mBAAXA,MAAW;AAAA;;SAAXA,MAAW;EAAAiB,OAAA,EAAXjB,MAAW,CAAAkB,IAAA;EAAAC,UAAA,EAFV;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}