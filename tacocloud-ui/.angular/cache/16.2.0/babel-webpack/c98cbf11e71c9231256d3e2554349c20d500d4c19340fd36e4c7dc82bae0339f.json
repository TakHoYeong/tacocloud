{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../cart/cart-service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../cloud-title/cloudtitle.component\";\nimport * as i7 from \"../group-box/groupbox.component\";\nimport * as i8 from \"../big-button/bigbutton.component\";\nfunction DesignComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function DesignComponent_span_7_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const wrap_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.updateIngredients(wrap_r5, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const wrap_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", wrap_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wrap_r5.name);\n  }\n}\nfunction DesignComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function DesignComponent_span_9_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const protein_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.updateIngredients(protein_r8, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const protein_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", protein_r8.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(protein_r8.name);\n  }\n}\nfunction DesignComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function DesignComponent_span_11_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const cheese_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.updateIngredients(cheese_r11, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cheese_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", cheese_r11.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cheese_r11.name);\n  }\n}\nfunction DesignComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function DesignComponent_span_13_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const veggie_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.updateIngredients(veggie_r14, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const veggie_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", veggie_r14.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(veggie_r14.name);\n  }\n}\nfunction DesignComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function DesignComponent_span_15_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const sauce_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.updateIngredients(sauce_r17, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sauce_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", sauce_r17.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sauce_r17.name);\n  }\n}\nexport let DesignComponent = /*#__PURE__*/(() => {\n  var _class;\n  class DesignComponent {\n    constructor(httpClient, router, cartService) {\n      this.httpClient = httpClient;\n      this.router = router;\n      this.cartService = cartService;\n      this.model = {\n        name: '',\n        ingredients: []\n      };\n      this.wraps = [];\n      this.proteins = [];\n      this.veggies = [];\n      this.cheeses = [];\n      this.sauces = [];\n    }\n    ngOnInit() {\n      this.httpClient.get('http://localhost:8080/ingredients').subscribe(data => {\n        this.allIngredients = data;\n        this.wraps = this.allIngredients.filter(w => w.type === 'WRAP');\n        this.proteins = this.allIngredients.filter(p => p.type === 'PROTEIN');\n        this.veggies = this.allIngredients.filter(v => v.type === 'VEGGIES');\n        this.cheeses = this.allIngredients.filter(c => c.type === 'CHEESE');\n        this.sauces = this.allIngredients.filter(s => s.type === 'SAUCE');\n      });\n    }\n    updateIngredients(ingredient, event) {\n      if (event.target.checked) {\n        this.model.ingredients.push(ingredient);\n      } else {\n        this.model.ingredients.splice(this.model.ingredients.findIndex(i => i === ingredient), 1);\n      }\n    }\n    onSubmit() {\n      this.httpClient.post('http://localhost:8080/design', this.model, {\n        headers: new HttpHeaders().set('Content-type', 'application/json')\n      }).subscribe(taco => this.cartService.addToCart(taco));\n      this.router.navigate(['/cart']);\n    }\n  }\n  _class = DesignComponent;\n  _class.ɵfac = function DesignComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CartService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"taco-design\"]],\n    decls: 24,\n    vars: 6,\n    consts: [[3, \"ngSubmit\"], [1, \"ingredientsblock\", 2, \"text-align\", \"center\", \"width\", \"100%\"], [\"title\", \"Record your wrap\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"Pick your proteins\"], [\"title\", \"Choose your cheeses\"], [\"title\", \"Vouch for your veggies\"], [\"title\", \"Select your sauces\"], [\"title\", \"Name your taco creation\"], [\"type\", \"text\", \"name\", \"name\", 1, \"nameField\", 3, \"ngModel\", \"ngModelChange\"], [2, \"text-align\", \"center\", \"width\", \"100%\"], [\"label\", \"Construct this taco\"], [\"type\", \"checkbox\", \"name\", \"ingredients\", 3, \"value\", \"change\"]],\n    template: function DesignComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"cloud-title\");\n        i0.ɵɵtext(1, \"Design your taco masterpiece\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"p\");\n        i0.ɵɵtext(3, \"We provide a palette of fresh ingredients...you provide the inspiration! Select the components that will come together as your crowning achievement of taco workmanship.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function DesignComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(5, \"div\", 1)(6, \"group-box\", 2);\n        i0.ɵɵtemplate(7, DesignComponent_span_7_Template, 4, 2, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"group-box\", 4);\n        i0.ɵɵtemplate(9, DesignComponent_span_9_Template, 4, 2, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"group-box\", 5);\n        i0.ɵɵtemplate(11, DesignComponent_span_11_Template, 4, 2, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"group-box\", 6);\n        i0.ɵɵtemplate(13, DesignComponent_span_13_Template, 4, 2, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"group-box\", 7);\n        i0.ɵɵtemplate(15, DesignComponent_span_15_Template, 4, 2, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"group-box\", 8);\n        i0.ɵɵtext(17, \" My taco magnum opus shall be called\");\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵtext(19, \" the \\\"\");\n        i0.ɵɵelementStart(20, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function DesignComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.model.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21, \"\\\"! \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 10);\n        i0.ɵɵelement(23, \"big-button\", 11);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.wraps);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.proteins);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cheeses);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.veggies);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sauces);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.name);\n      }\n    },\n    dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.CloudTitleComponent, i7.GroupBoxComponent, i8.BigButtonComponent],\n    styles: [\"div.ingredientsblock[_ngcontent-%COMP%]{width:1000px}input.nameField[_ngcontent-%COMP%]{font-size:16pt;background:none;border:none;border-bottom:1px solid #003366}\"]\n  });\n  return DesignComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}